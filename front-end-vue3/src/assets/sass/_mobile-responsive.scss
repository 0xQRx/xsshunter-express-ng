// Mobile Responsive Utilities and Components
// Can be imported and used across different views

// Import theme overrides to use consistent colors
@import 'theme-overrides';

// Responsive breakpoints (Bootstrap-compatible)
$mobile: 576px;
$tablet: 768px;
$desktop: 992px;
$large-desktop: 1200px;

// Mobile Card Component for list items
@mixin mobile-card {
  background: $card-black-background;
  border: 1px solid rgba($secondary, 0.2);
  border-radius: 0.5rem;
  margin-bottom: 1rem;
  overflow: hidden;
  
  .card-header {
    background: rgba($secondary, 0.1);
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba($secondary, 0.2);
    
    h5, .card-title {
      margin: 0;
      color: $opacity-8;
      font-size: 1.1rem;
      word-break: break-word;
      flex: 1;
      margin-right: 0.5rem;
    }
  }
  
  .card-body {
    padding: 1rem;
    
    .text-muted {
      color: $opacity-6 !important;
    }
    
    .btn-group {
      display: flex;
      gap: 0.25rem;
      
      .btn {
        flex: 1;
        font-size: 0.875rem;
        padding: 0.5rem 0.25rem;
        
        i {
          font-size: 0.875rem;
        }
        
        // On very small screens
        @media (max-width: 360px) {
          font-size: 0.75rem;
          padding: 0.375rem 0.125rem;
        }
      }
    }
  }
}

// Table responsive utilities
@mixin responsive-table {
  .table-wrapper {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    
    .table {
      width: 100%;
      min-width: 500px;
      
      @media (max-width: $tablet) {
        font-size: 0.875rem;
        
        .btn-sm {
          padding: 0.25rem 0.375rem;
          font-size: 0.75rem;
        }
      }
    }
  }
  
  // Hide columns on smaller screens
  @media (max-width: $desktop) {
    .d-none-mobile {
      display: none !important;
    }
  }
  
  @media (max-width: $large-desktop) {
    .d-none-tablet {
      display: none !important;
    }
  }
}

// Modal responsive adjustments
@mixin responsive-modal {
  @media (max-width: $mobile) {
    .modal-xl {
      max-width: 100%;
      width: 100%;
      margin: 0.5rem;
    }
    
    .modal-black .code-editor,
    .payload-code-editor .cm-editor {
      min-height: 250px;
      max-height: 40vh;
    }
  }
}

// Button group responsive
@mixin responsive-button-group {
  .btn-group-responsive {
    @media (max-width: $mobile) {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      
      .btn {
        width: 100%;
      }
    }
  }
}

// Utility classes
.mobile-only {
  @media (min-width: $tablet) {
    display: none !important;
  }
}

.desktop-only {
  @media (max-width: $tablet - 1) {
    display: none !important;
  }
}

.hide-mobile-text {
  @media (max-width: $mobile) {
    span {
      display: none;
    }
    
    i {
      margin-right: 0 !important;
    }
  }
}

// Export mixins for use in components
.mobile-card {
  @include mobile-card;
}

.responsive-table-container {
  @include responsive-table;
}